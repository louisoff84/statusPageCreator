<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Status Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-4">

    <div id="content" class="max-w-2xl w-full hidden">
        <h1 id="title" class="text-4xl font-black text-slate-800 text-center mb-8"></h1>
        
        <div id="status-card" class="bg-white p-10 rounded-3xl shadow-2xl border-t-8 transition-all duration-500">
            <div class="flex justify-between items-center">
                <div>
                    <h2 id="status-text" class="text-2xl font-bold"></h2>
                    <p class="text-slate-500 text-sm mt-1">Vérifié automatiquement par CraftPick</p>
                </div>
                <div id="indicator" class="h-6 w-6 rounded-full animate-pulse shadow-lg"></div>
            </div>
        </div>
        <p class="text-center mt-8 text-slate-400 text-xs">Propulsé par StatusPageCreator</p>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const pageId = params.get('p');
        const pages = JSON.parse(localStorage.getItem('uptime_pages')) || {};

        if (pageId && pages[pageId]) {
            const data = pages[pageId];
            document.getElementById('content').classList.remove('hidden');
            document.getElementById('title').textContent = data.title;
            document.title = "Status: " + data.title;

            const config = {
                emerald: { text: "Opérationnel", border: "border-emerald-500", bg: "bg-emerald-500" },
                amber: { text: "Performance Réduite", border: "border-amber-500", bg: "bg-amber-500" },
                rose: { text: "Interruption de Service", border: "border-rose-500", bg: "bg-rose-500" }
            };

            const theme = config[data.status] || config.emerald;
            
            const card = document.getElementById('status-card');
            const ind = document.getElementById('indicator');
            const txt = document.getElementById('status-text');

            card.classList.add(theme.border);
            ind.classList.add(theme.bg);
            txt.textContent = theme.text;
            txt.classList.add(`text-${data.status}-700`);

        } else {
            document.body.innerHTML = "<div class='text-center'><h1 class='text-2xl font-bold text-slate-400'>Page de statut non trouvée</h1><a href='login.html' class='text-blue-500 underline text-sm'>Aller au Dashboard</a></div>";
        }
    </script>
</body>
</html>
